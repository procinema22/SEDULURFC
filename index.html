<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Kolase Foto — Final (Cover, A4 Portrait)</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">

<!-- dependensi: exif-js dan jsPDF -->
<script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div class="wrap">
  <div class="header-row no-print">
    <h1>🖨️ Kolase Foto </h1>
    <div class="header-controls">
      <span class="muted-label">Mode Gelap</span>
      <div id="darkSwitch" class="switch" title="Toggle Mode Gelap (UI saja)">
       
        
      </div>
    </div>
  </div>
  <div class="knob"></div>
  <div class="kolase-wrapper">
    <img id="logo" src="logo.png" alt="Logo Perusahaan" />
    <canvas id="canvas" width="595" height="842"></canvas>
  </div>
  <main>
    <!-- Panel kontrol -->
    <section class="card no-print">
      <div class="controls">
        <label>Pilih Mode Harga</label>
        <select id="modeSelect">
          <option value="normal">Mode Normal</option>
          <option value="perfoto">Mode Per Foto</option>
        </select>

        <div id="hargaPerFotoBox" style="display:none;">
          <label>Harga per Foto (Rp)</label>
          <input id="hargaPerFoto" type="number" value="1000" min="100" step="100">
        </div>

        <label>Upload Foto (pilih banyak)</label>
        <input id="upload" type="file" accept="image/*" multiple>

        <label>Pilih Ukuran Kotak (cm)</label>
        <select id="sizeSelect">
          <option value="2x3">2 x 3</option>
          <option value="3x4">3 x 4</option>
          <option value="4x6">4 x 6</option>
          <option value="5x5">5 x 5</option>
          <option value="6x9">6 x 9</option>
          <option value="10x15">10 x 15 (4R)</option>
          <option value="custom">Custom...</option>
        </select>

        <div id="customSize" style="display:none;gap:8px;align-items:center;">
          <input id="customW" type="number" placeholder="Lebar (cm)" style="width:110px">
          <input id="customH" type="number" placeholder="Tinggi (cm)" style="width:110px">
        </div>

        <label>Margin (mm)</label>
        <input id="marginInputMm" type="number" value="5" min="0" step="0.1">

        <label>Gap antar foto (px)</label>
        <input id="gap" type="number" value="20">

        <label>Nama User / Admin</label>
        <input id="userName" type="text" value="SEDULUR FOTOCOPY" placeholder="Masukkan nama pengguna">
        <div class="price" id="priceDisplay">Harga: Rp 0</div>

        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
          <button id="previewBtn" class="ok">👁️ Preview Cepat</button>
          <button id="generateBtn" class="ghost">📄 Buat Kolase</button>
          <button id="downloadPdf" class="download-btn">💾 Buka PDF di Tab Baru</button>
          <button id="reset" class="warn">🔁 Reset</button>
        </div>

        <div id="batchList" class="small"></div>
        <div class="footer-note">Footer (Nama & Harga) hanya ada pada <strong>mode normal</strong> — disisakan area agar tidak tertimpa foto.</div>
      </div>
    </section>

    <!-- Area kanvas preview -->
    <section class="card">
      <div class="canvas-wrap">
        <canvas id="canvas" width="1240" height="1754"></canvas>
        <div class="page-nav no-print" id="pageNav" style="display:none">
          <button id="prevPage">⬅️ Sebelumnya</button>
          <div id="pageIndicator">Halaman 1 / 1</div>
          <button id="nextPage">Berikutnya ➡️</button>
        </div>
      </div>
    </section>
  </main>
</div>

<script src="script.js"></script>
</body>
</html>
